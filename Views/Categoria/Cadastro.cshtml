@model SistemaVenda.Models.CategoriaViewModel;

@{ 
    var disabled = (Model.Codigo == null) ? "disabled" : string.Empty;
}
<html>
<head>
    <title>Cadastro</title>
    <meta charset="utf-8" />
    <style>
    </style>
</head>
<body>

    <div class="The-title">
        <h2>Categorias</h2>
        <hr />
    </div>
    <div>
        <form asp-controller="Categoria" asp-action="Cadastro" method="post">
            <input type="hidden" asp-for="Codigo" value="@Model.Codigo" />
            <div class="form-group">
                <div class="col-4">
                    <label>Descrição</label>
                    <input type="text" asp-for="Descricao" value="@Model.Descricao" class="form-control" />
                    <span asp-validation-for="Descricao" class="text-danger"
></span>                </div>
                <br />
                <div class="col">
                    <button type="button" class="btn btn-info" onclick="Novo()">
                        Novo
                    </button>
                    <button type="submit" class="btn btn-success">
                        Gravar
                    </button>
                    <button type="button" class="btn btn-warning" onclick="Listagem()">
                        listagem
                    </button>
                    <button type="button" class="btn btn-danger" onclick="Excluir(@Model.Codigo)" @disabled >
                        Excluir
                    </button>
                </div>
            </div>

        </form>
    </div>
    <script>
        function Novo() {
            Request("Cadastro\\");
        }
        function Listagem() {
            Request("");
        }
        function Excluir(Codigo) {
            Request("Excluir\\" + Codigo);
        }
        function Request(request) {
            window.location = window.origin + "\\Categoria\\" + request;
        }
    </script>
</body>
</html>